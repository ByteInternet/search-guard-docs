<!---
Copryight 2017 floragunn GmbH
-->
<h1 id="user-cache-settings">User cache settings</h1>

<p>Search Guard uses a cache to store the roles of authenticated users. The default time to live (TTL) is one hour. This will for example speed up LDAP based authorisation, since the roles are fetched only once per hour.</p>

<p>The TTL of the cache can be adjusted by setting <code class="highlighter-rouge">searchguard.cache.ttl_minutes</code> <code class="highlighter-rouge">in elasticsearch.yml</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>searchguard.cache.ttl_minutes: &lt;integer, ttl in minutes&gt;`
</code></pre></div></div>

<p>Setting the value to <code class="highlighter-rouge">0</code> will completely disable the cache.</p>

<p><strong>It is recommended to leave the cache settings untouched for LDAP and Internal User Database. Disabling the cache can severely reduce the performance of these authentication domains.</strong></p>

<p>The cache can be flushed manually by <code class="highlighter-rouge">sgadmin</code> in conjunction with the <code class="highlighter-rouge">-rl/--reload</code> switch, or by using the Kibana Config Gui.</p>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -ks /path/to/keystore.jks \
   -kspass &lt;keystore password&gt; \
   -ts /path/to/truststore.jks \
   -tspass &lt;truststore password&gt;
   -rl
</code></pre></div></div>

