<!---
Copryight 2017 floragunn GmbH
-->
<h1 id="sgadmin-examples">sgadmin Examples</h1>

<h4 id="apply-default-configuration-with-keystore-and-truststore-files">Apply default configuration with Keystore and Truststore files</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -cd /path/to/sgconfig/ \
   -ks /path/to/keystore.jks \
   -kspass changeit \
   -ts /path/to/truststore.jks \
   -tspass changeit
   -nhnv
   -icl
</code></pre></div></div>

<h4 id="apply-default-configuration-with-pem-certificates">Apply default configuration with PEM certificates</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -cd /path/to/sgconfig/ \
   -cacert /path/to/root-ca.pem \
   -cert /path/to/kirk.crt.pem \
   -key /path/to/kirk.key.pem  \
   -keypass changeit
   -nhnv
   -icl
</code></pre></div></div>

<h4 id="apply-single-file-to-cluster-named-myclustername">Apply single file to cluster named “myclustername”</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -f /path/to/sg_internal_users.yml \
   -t internalusers \
   -ks /path/to/keystore.jks \
   -kspass changeit
   -ts /path/to/truststore.jks \
   -tspass changeit
   -cn myclustername \
   -nhnv
</code></pre></div></div>

<h4 id="apply-single-file-ignoring-clustername-but-specifying-host-and-port">Apply single file, ignoring clustername but specifying host and port</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -h esnode1.mycompany.com \
   -p 9301 \
   -f /path/to/updated_internal_users.yml \
   -t internalusers \
   -ks /path/to/keystore.jks \
   -kspass changeit
   -ts /path/to/truststore.jks \
   -tspass changeit
   -icl
</code></pre></div></div>
<h4 id="retrieving-the-current-active-search-guard-configuration-from-a-cluster">Retrieving the current active Search Guard configuration from a cluster</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -ks /path/to/keystore.jks \
   -kspass changeit
   -ts /path/to/truststore.jks  \
   -tspass changeit
   -r
</code></pre></div></div>

<h4 id="reload-the-current-configuration-thus-flushing-the-search-guard-user-caches">Reload the current configuration, thus flushing the Search Guard user caches</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -ks /path/to/keystore.jks \
   -kspass changeit
   -ts /path/to/truststore.jks \
   -tspass changeit
   -rl
</code></pre></div></div>

<h4 id="setting-the-number-of-replica-shards-to-5">Setting the number of replica shards to 5</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -ks /path/to/keystore.jks \
   -kspass changeit
   -ts /path/to/truststore.jks \
   -tspass changeit
   -us 5
</code></pre></div></div>

<h4 id="enabling-replica-auto-expansion">Enabling replica auto expansion</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh \
   -ks /path/to/keystore.jks \
   -kspass changeit
   -ts /path/to/truststore.jks \
   -tspass changeit
   -era
</code></pre></div></div>
