<!---
Copryight 2017 floragunn GmbH
-->

<h1 id="immutable-indices">Immutable indices</h1>

<p><strong>To use the compliance features please install the <a href="installation_versionmatrix.md">Search Guard Compliance Edition</a></strong></p>

<p>You can mark any index in Elasticsearch as immutable. Documents in immutable indices follow the write-once, read-many paradigm. This means that you can create documents, but once created, they cannot be changed anymore, thus making them immutable.</p>

<p>To mark an index immutable, list the index name in elasticsearch.yml like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>searchguard.compliance.immutable_indices: 
  - indexA
  - indexB
  - ...
</code></pre></div></div>

<h2 id="forbidden-operations">Forbidden operations</h2>

<p>Marking an index immutable prevents the following actions from being executed:</p>

<ul>
  <li>Changing or deleting any existing document
    <ul>
      <li>this also includes bulk operations</li>
    </ul>
  </li>
  <li>Deleting the index</li>
  <li>Opening anc closing the index</li>
  <li>Performing a reindex</li>
  <li>Snapshot / restore</li>
</ul>

<h2 id="using-an-admin-certificate">Using an admin certificate</h2>

<p>A configured TLS admin certificate can be used to bypass the immutable index checks.</p>
