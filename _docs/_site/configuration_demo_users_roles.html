<!---
Copryight 2017 floragunn GmbH
-->
<h1 id="demo-users-and-roles">Demo users and roles</h1>

<p>Search Guard ships with a demo configuration that contains users and roles for a variety of use cases. You can use these users and roles as a blueprint for your own permission schema.</p>

<h2 id="demo-users">Demo users</h2>

<p>Search Guard ships with the following demo users:</p>

<table>
  <thead>
    <tr>
      <th>Username</th>
      <th>Password</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>admin</td>
      <td>admin</td>
      <td>Full access to the cluster and all indices, but no access to the Search Guard configuration. Use an admin certificate for that.</td>
    </tr>
    <tr>
      <td>kibanaserver</td>
      <td>kibanaserver</td>
      <td>Internal Kibana server user, for configuring <code class="highlighter-rouge">elasticsearch.username</code> and <code class="highlighter-rouge">elasticsearch.password</code> in <code class="highlighter-rouge">kibana.yml</code>. Has all permissions on the <code class="highlighter-rouge">.kibana</code> index.</td>
    </tr>
    <tr>
      <td>kibanaro</td>
      <td>kibanaro</td>
      <td>Regular Kibana user, has <code class="highlighter-rouge">READ</code> access to all indices and   all permissions on the <code class="highlighter-rouge">.kibana</code> index.</td>
    </tr>
    <tr>
      <td>logstash</td>
      <td>logstash</td>
      <td>Logstash and Beats user, has <code class="highlighter-rouge">CRUD</code> and <code class="highlighter-rouge">CREATE_INDEX</code>  permissions on all logstash and beats indices</td>
    </tr>
    <tr>
      <td>readall</td>
      <td>readall</td>
      <td>Has read access to all indices</td>
    </tr>
    <tr>
      <td>snapshotrestore</td>
      <td>snapshotrestore</td>
      <td>Has permissions to perform snapshot and restore operations</td>
    </tr>
  </tbody>
</table>

<h2 id="demo-roles">Demo roles</h2>

<p>Search Guard ships with the following demo roles:</p>

<table>
  <thead>
    <tr>
      <th>Role name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>sg_all_access</td>
      <td>All cluster permissions and all index permissions on all indices</td>
    </tr>
    <tr>
      <td>sg_readall</td>
      <td>Read permissions on all indices, but no write permissions</td>
    </tr>
    <tr>
      <td>sg_readonly_and_monitor</td>
      <td>Read and monitor permissions on all indices, but no write permissions</td>
    </tr>
    <tr>
      <td>sg_kibana_server</td>
      <td>Role for the internal Kibana server user, please refer to the <a href="kibana_installation.md">Kibana setup</a> chapter for explanation</td>
    </tr>
    <tr>
      <td>sg_kibana_user</td>
      <td>Minimum permission set for regular Kibana users. In addition to this role, you need to also grant READ permissions on indices the user should be able to access in Kibana.</td>
    </tr>
    <tr>
      <td>sg_logstash</td>
      <td>Role for logstash and beats users, grants full access to all logstash and beats indices.</td>
    </tr>
    <tr>
      <td>sg_manage_snapshots</td>
      <td>Grants full permissions on snapshot, restore and repositories operations</td>
    </tr>
    <tr>
      <td>sg_own_index</td>
      <td>Grants full permissions on an index named after the authenticated userâ€™s username.</td>
    </tr>
    <tr>
      <td>sg_xp_monitoring</td>
      <td>Role for X-Pack Monitoring. Users who wish to use X-Pack Monitoring need this role in addition to the sg_kibana_user role</td>
    </tr>
    <tr>
      <td>sg_xp_alerting</td>
      <td>Role for X-Pack Alerting. Users who wish to use X-Pack Alerting need this role in addition to the sg_kibana role</td>
    </tr>
    <tr>
      <td>sg_xp_machine_learning</td>
      <td>Role for X-Pack Machine Learning. Users who wish to use X-Pack Machine Learning need this role in addition to the sg_kibana role</td>
    </tr>
  </tbody>
</table>

<p><strong>Note:</strong> By default, all users are mapped to the roles <code class="highlighter-rouge">sg_public</code> and <code class="highlighter-rouge">sg_own_index</code>. You can remove this mapping by deleting the following lines from <code class="highlighter-rouge">sg_roles_mapping.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">sg_public</span><span class="pi">:</span>
  <span class="na">users</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">*'</span>

<span class="na">sg_own_index</span><span class="pi">:</span>
  <span class="na">users</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s1">'</span><span class="s">*'</span>
</code></pre></div></div>

