<!---
Copryight 2017 floragunn GmbH
-->
<h1 id="moving-the-configuration-to-production">Moving the configuration to production</h1>

<p>Once you have set up Search Guard on a testing or staging environment, you might want to replicate the exact Search Guard configuration on your production cluster.</p>

<p>If you have the Search Guard configuration files at hand, you can of course simply use <a href="sgadmin.md">sgadmin</a> to upload them to production.</p>

<p>If you’re unsure whether your configuration files actually resemble the active Search Guard configuration on your cluster, you can use <a href="sgadmin.md">sgadmin</a> to retrieve the configuration from a running cluster, and upload it to another one:</p>

<p>Retrieve the current configuration from a cluster running on <code class="highlighter-rouge">staging.example.com</code> :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh --retrieve -h staging.example.com -ts ... -tspass ... -ks ... -kspass ...
</code></pre></div></div>

<p>To upload the dumped files to another cluster, here <code class="highlighter-rouge">production.example.com</code> listening on port 9301, use:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./sgadmin.sh -h production.example.com -cd /etc/backup/ 
    -ts ... -tspass ... -ks ... -kspass ...
</code></pre></div></div>

<p>You can read more details about this in the “Backup and Restore” chapter of the <a href="sgadmin.md">sgadmin documentation</a>.</p>

